(()=>{"use strict";class e{constructor(e,t,o,c,n){this.name=e,this.description=t,this.dueDate=o,this.status=c,this.project=n}}function t(){!function(){const e=document.querySelectorAll("#project-container");for(let t of e){const e=t.querySelectorAll(".project-navbar");for(let t of e)t.remove()}}();const e=document.querySelector(".project-container");let c=document.createElement("div");c.classList.add("project-navbar"),e.appendChild(c);const n=JSON.parse(localStorage.getItem("projects"));if(null===n)return 0;for(let e of n){let n=document.createElement("div");n.classList.add("single-project-div"),c.appendChild(n);const r=document.createElement("p");r.setAttribute("data-project",`${e}`),r.innerText=`${e}`,r.addEventListener("click",(t=>{t.currentTarget===t.target&&(l(),o(e))}),!1);const a=document.createElement("button");a.innerText="Delete",a.addEventListener("click",(o=>{o.currentTarget===o.target&&(u(e),t(),l())})),n.appendChild(r),n.appendChild(a)}}function o(e){const t=document.querySelector(".project-container");let o=document.createElement("div");o.classList.add("project-div"),o.setAttribute("data-name",`${e}`),o.innerText=`${e}`,t.appendChild(o),c(e)}function c(e){let t=JSON.parse(localStorage.getItem("tasks"));for(let o of t)if(o.project==e){const t=document.querySelector(`[data-name = ${o.project}]`),l=document.createElement("div");l.classList.add("check");const a=document.createElement("p");a.innerText=`${o.name}`;const d=document.createElement("p");d.innerText=`${o.description}`;const u=document.createElement("p");u.innerText=`${o.dueDate}`;const i=document.createElement("input");i.setAttribute("type","checkbox"),i.addEventListener("click",(e=>{e.currentTarget===e.target&&"no"===o.status&&s(l)}));const m=document.createElement("button");m.innerText="Delete",m.addEventListener("click",(t=>{t.currentTarget===t.target&&(r(o.name,o.project),n(),c(e))})),t.appendChild(l),l.appendChild(a),l.appendChild(d),l.appendChild(u),l.appendChild(i),l.appendChild(m)}}function n(){const e=document.querySelectorAll(".project-div");for(let t of e)t.querySelectorAll("div").forEach((e=>e.remove()))}function l(){document.querySelectorAll(".project-div").forEach((e=>e.remove()))}function r(e,t){let o=JSON.parse(localStorage.getItem("tasks"));o=o.filter((o=>o.name!==e||o.project!==t)),d(o)}function a(){document.querySelector("#addTask"),document.querySelector("#taskmodal");const e=document.querySelector("#modaltask"),t=(document.getElementsByClassName("close")[0],document.createElement("select"));t.classList.add("project-btn"),t.setAttribute("id","selectproject");const o=JSON.parse(localStorage.getItem("projects"));if(null===o)return 0;for(let e of o){let o=document.createElement("option");o.value=e;let c=document.createTextNode(`${e}`);o.appendChild(c),t.appendChild(o)}e.appendChild(t)}function s(e){e.classList.toggle("checked")}function d(e){let t;localStorage.getItem("tasks"),t=[];for(let o of e)t.push(o);localStorage.setItem("tasks",JSON.stringify(t))}function u(e){let t,o=JSON.parse(localStorage.getItem("projects"));o=o.filter((t=>t!==e)),t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t=t.filter((t=>t.project!==e)),localStorage.removeItem("tasks"),d(t),function(e){let t;localStorage.getItem("projects"),t=[];for(let o of e)t.push(o);localStorage.setItem("projects",JSON.stringify(t))}(o)}t(),document.querySelector("#projectdata").addEventListener("submit",(e=>{e.preventDefault();let o=document.querySelector("#project-add");!function(e){(function(e){let t;t=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),t.push(e),localStorage.setItem("projects",JSON.stringify(t))})(e),t(),function(){const e=document.querySelectorAll(".project-btn");for(let t of e)t.remove()}(),a(),l()}(o.value),o.value="",document.querySelector("#projectmodal").style.display="none"})),document.querySelector("#taskdata").addEventListener("submit",(t=>{t.preventDefault();let c=document.querySelector("#taskName-add"),n=document.querySelector("#taskDescription-add"),r=document.querySelector("#taskDate-add"),a=document.querySelector("#taskDone-add"),s=document.querySelector("#selectproject");!function(t,o,c,n,l){!function(e){let t;t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),t.push(e),localStorage.setItem("tasks",JSON.stringify(t))}(new e(t,o,c,n,l))}(c.value,n.value,r.value,a.value,s.value),l(),o(s.value),document.querySelector("#taskmodal").style.display="none",c.value="",n.value="",r.value="",a.value=""})),a(),(()=>{const e=document.querySelector("#addProject"),t=document.querySelector("#projectmodal"),o=document.getElementsByClassName("close")[0];e.onclick=function(){t.style.display="block"},o.onclick=function(){t.style.display="none"},window.addEventListener("click",(function(e){e.target==t&&(t.style.display="none")}))})(),(()=>{const e=document.querySelector("#addTask"),t=document.querySelector("#taskmodal"),o=document.getElementsByClassName("close")[1];e.onclick=function(){t.style.display="block"},o.onclick=function(){t.style.display="none"},window.addEventListener("click",(function(e){e.target==t&&(t.style.display="none")}))})()})();